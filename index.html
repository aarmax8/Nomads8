<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOMADS 11 - Interactive Cocktail Menu</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Nomads Menu">
    <meta name="application-name" content="Nomads Menu">
    <link rel="apple-touch-icon" href="https://placehold.co/180x180/111827/f59e0b?text=N">
    <link rel="icon" sizes="192x192" href="https://placehold.co/192x192/111827/f59e0b?text=N">
    <link rel="icon" sizes="512x512" href="https://placehold.co/512x512/111827/f59e0b?text=N">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Metal+Mania&family=Roboto+Condensed:ital,wght@0,700;1,400&family=Roboto:ital,wght@0,400;0,500;1,700&family=Rye&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        html, body {
            scroll-behavior: smooth;
            height: 100dvh; /* Use dynamic viewport height for better mobile browser support */
            overflow: hidden;
            position: fixed;
            width: 100%;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #1a110a; /* Dark wood fallback */
            background-image: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), url('https://www.transparenttextures.com/patterns/worn-dots.png');
            background-attachment: fixed;
        }

        #app-container {
            display: flex;
            flex-direction: column;
            height: 100dvh; /* Use dynamic viewport height */
        }

        main {
            flex-grow: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        h2, h3 {
            font-family: 'Black Ops One', cursive;
            text-shadow: 1px 1px 0 #000, 2px 2px 0 #333;
            letter-spacing: 0.05em;
        }
        .drink-card h3, .modal h2, #gemini-drink-output h3 {
            font-family: 'Rye', cursive;
            text-shadow: 2px 2px 0 #000;
            letter-spacing: normal;
        }
         .drink-card-front h3 {
            text-shadow: 1px 1px 0 #000, 0 0 8px currentColor; /* Add a glow */
        }
        
        .card-icon-group {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }
        .category-icons {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }
        .category-icons i {
            font-size: 1.25rem;
            opacity: 0.9;
            text-shadow: 1px 1px 2px #000;
        }

        .font-condensed { font-family: 'Roboto Condensed', sans-serif; }
        .font-rye { font-family: 'Rye', cursive; line-height: 1.6; }
        .font-black-ops { font-family: 'Black Ops One', cursive; }

        .recipe-list { list-style: disc; margin-left: 1.5rem; line-height: 1.4; font-family: 'Roboto Condensed', sans-serif; letter-spacing: 0.02em; }
        .modal { transition: opacity 0.3s ease-in-out; }
        
        /* --- STYLES FOR FLIP CARDS & "POP" --- */
        .drink-card {
            perspective: 1000px;
            background-color: transparent;
            cursor: pointer;
        }
        .drink-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px rgba(0,0,0,0.5), 0 10px 20px rgba(0,0,0,0.7);
            border-radius: 0.5rem; 
        }
        .drink-card.is-flipped .drink-card-inner {
            transform: rotateY(180deg);
        }
        .drink-card-front, .drink-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            background-color: #111827;
            background-image: linear-gradient(rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0)), url('https://www.transparenttextures.com/patterns/subtle-carbon.png');
            border: 2px solid #000;
            box-shadow: inset 0 0 10px #000;
            border-radius: 0.5rem;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .drink-card-front::after, .drink-card-back::after {
            content: '';
            position: absolute;
            top: 6px;
            left: 6px;
            right: 6px;
            bottom: 6px;
            border: 1px dashed #4b5563; /* Stitches */
            border-radius: 0.25rem;
            pointer-events: none;
        }
        .drink-card-back {
            transform: rotateY(180deg);
            overflow-y: auto;
            padding: 1rem;
        }
        .drink-card.is-active-card .drink-card-inner {
             box-shadow: 0 0 15px 4px #f59e0b, 0 10px 20px rgba(0,0,0,0.7); /* amber-500 glow */
        }
        
        .drink-image-container {
            display: none; /* Hide the container completely */
        }

        /* --- Scroll Snap for Drink Cards --- */
        #menu-grid {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-padding: 1rem;
            -webkit-overflow-scrolling: touch;
            padding: 1rem;
            scrollbar-width: none; /* Firefox */
            flex-grow: 1;
        }
        #menu-grid::-webkit-scrollbar { 
            display: none; /* Safari and Chrome */
        }
        
        #menu-grid > .drink-card { flex: 0 0 90%; scroll-snap-align: center; }
        @media (min-width: 768px) { #menu-grid > .drink-card { flex-basis: 45%; } }
        @media (min-width: 1024px) { #menu-grid > .drink-card { flex-basis: 31%; } }

        /* --- Gemini & UI Button Styles --- */
        .choice-btn, .gemini-btn { transition: all 0.2s ease-in-out; }
        .choice-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.4); }
        .loader { border: 4px solid #4b5563; border-top: 4px solid #f59e0b; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; z-index: 5; }
        .title-loader { width: 32px; height: 32px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- Filter Button Styles --- */
        .filter-btn, .flavor-filter-btn {
            font-family: 'Roboto Condensed', sans-serif; font-weight: 700; text-transform: uppercase; background-color: #1a202c; border: 2px solid #111827;
            border-bottom-color: #4a5568; color: #a0aec0; padding: 0.25rem 0.75rem; border-radius: 0.375rem;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.6), 0 1px 1px rgba(255,255,255,0.1); transition: all 0.15s ease-out; flex-shrink: 0;
            font-size: 0.75rem;
        }
        .filter-btn:hover, .flavor-filter-btn:hover { background-color: #2d3748; color: #e2e8f0; }
        .filter-btn.active-filter, .flavor-filter-btn.active-filter {
            background-color: #f59e0b; color: #1a202c; border-color: #dd6b20; border-top-color: #f6ad55;
            transform: translateY(1px); box-shadow: inset 0 3px 6px rgba(0,0,0,0.4); text-shadow: 0 1px 1px rgba(255,255,255,0.2);
        }
        .filter-btn.active-filter i, .flavor-filter-btn.active-filter i { color: #1a202c !important; }
        .filter-btn i, .flavor-filter-btn i { transition: color 0.15s ease-out; }

        #create-drink-btn { background-image: linear-gradient(to top, #000000, #1f2d37); border: 1px solid #000; text-shadow: 1px 1px 2px rgba(0,0,0,0.6); box-shadow: inset 0 1px 1px rgba(255,255,255,0.15), inset 0 -2px 3px rgba(0,0,0,0.6), 0 2px 4px rgba(0,0,0,0.5); transition: all 0.2s ease-in-out; }
        #create-drink-btn:hover { background-image: linear-gradient(to top, #1f2d37, #4b5563); transform: translateY(-2px); box-shadow: inset 0 1px 1px rgba(255,255,255,0.15), inset 0 -2px 3px rgba(0,0,0,0.6), 0 4px 6px rgba(0,0,0,0.5); }
        
        .sticky-filter-bar { 
            background-color: #111827; 
            background-image: linear-gradient(to top, rgba(17, 24, 39, 1) 50%, rgba(17, 24, 39, 0.9)); 
            position: relative;
            z-index: 40; 
            box-shadow: 0 -10px 20px rgba(0,0,0,0.5); 
            border-top: 2px solid #374151; 
            flex-shrink: 0;
        }
        
        /* Adjusted height and alignment for filter navs */
        #category-filter-nav, #flavor-filter-nav { 
            display: flex; 
            overflow-x: auto; 
            -webkit-overflow-scrolling: touch; 
            padding: 0.25rem 1rem; 
            align-items: center; 
            height: 45px; /* Adjusted to be even thinner */
            flex-shrink: 0; /* Prevent shrinking */
            box-sizing: border-box; /* Include padding and border in height */
        }
        #flavor-filter-nav { border-bottom: 1px solid #374151; }
        #category-filter-nav::-webkit-scrollbar, #flavor-filter-nav::-webkit-scrollbar { display: none; }
        #category-filter-nav, #flavor-filter-nav { -ms-overflow-style: none; scrollbar-width: none; }

        .ingredient-btn.out-of-stock { opacity: 0.5; background-color: #374151; text-decoration: line-through; }
        .ingredient-btn.out-of-stock:hover { background-color: #4b5563; }

        /* --- STRENGTH METER & FLAVOR ICONS --- */
        .strength-meter, .flavor-icons { display: flex; justify-content: center; gap: 0.5rem; }
        .flavor-icons { height: 20px; }
        .strength-meter i, .flavor-icons i { font-size: 1.25rem; }
        .strength-meter .filled { color: #f59e0b; text-shadow: 0 0 5px #f59e0b; }
        .strength-meter .empty { color: #4b5563; opacity: 0.7; }
        .flavor-icons i { transition: transform 0.2s ease-in-out; }
        .flavor-icons i:hover { transform: scale(1.2); }
        .fa-candy-cane{color:#ffb8c1}.fa-lemon{color:#fde047}.fa-pepper-hot{color:#ef4444}.fa-seedling{color:#84cc16}.fa-cloud{color:#f1f5f9}.fa-mug-hot{color:#854d0e}.fa-coffee{color:#a16207}.fa-fan{color:#a855f7}.fa-star-of-life{color:#7dd3fc}.fa-bolt{color:#facc15}.fa-snowflake{color:#67e8f9}.fa-water{color:#38bdf8}.fa-umbrella-beach{color:#f97316}.fa-apple-whole{color:#dc2626}.fa-fist-raised{color:#b91c1c}.fa-wave-square{color:#60a5fa}.fa-leaf{color:#57534e}.fa-moon{color:#4338ca}.fa-cookie-bite{color:#d4a373}.fa-icicles{color:#e0f2fe}.fa-dumbbell{color:#6b7280}.fa-circle{color:#d1d5db}.fa-cube{color:#3730a3}.fa-wind{color:#9ca3af}.fa-cactus{color:#85a23d}.fa-circle-dot{color:#fed7aa}.fa-mortar-pestle{color:#c084fc}

        /* --- Navigation Arrows --- */
        .nav-arrow {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(17, 24, 39, 0.5);
            color: #d1d5db;
            border: 2px solid #4b5563;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.25rem;
            cursor: pointer;
            z-index: 35;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease-in-out;
        }
        .nav-arrow:hover {
            background-color: rgba(245, 158, 11, 0.8);
            color: #111827;
            border-color: #f59e0b;
        }
        #arrow-left { left: 5px; }
        #arrow-right { right: 5px; }
        @media (min-width: 1280px) {
            #arrow-left { left: calc(50vw - 620px); }
            #arrow-right { right: calc(50vw - 620px); }
        }
        
        /* NOMADS Logo Specific Styles */
        #header-logo-container {
            position: relative;
            background-image: url('https://scontent-iad3-1.xx.fbcdn.net/v/t39.30808-6/560249362_1334414134750721_6442249990351217830_n.jpg?stp=cp6_dst-jpg_tt6&_nc_cat=101&ccb=1-7&_nc_sid=833d8c&_nc_ohc=CM3uAcZwDy0Q7kNvwH9N7J1&_nc_oc=Adm6pra2I-wIN54zlYEGN-q1sFOLdiKIZ7soVqhrp2gPTB4Mju67Q2FgLk0jjRLpvlg&_nc_zt=23&_nc_ht=scontent-iad3-1.xx&_nc_gid=DjeS81jUBoCZUFrHpc9egw&oh=00_Afcu7dpsQ4ErpnKzS14njbcjQ0neAcvcnI0k3pCVDbdJQg&oe=68EBA766');
            background-size: cover;
            background-position: left top; 
            background-repeat: no-repeat;
            border-radius: 0.5rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.8);
            overflow: hidden; 
        }
        #header-logo-container::before {
            content: '';
            position: absolute;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.9);
            border: 2px solid #4b5563;
            border-radius: 0.5rem;
            outline: 2px solid rgba(245, 158, 11, 0.5);
            outline-offset: -10px;
            filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.7));
        }
        #header-logo-container h1 {
            position: relative;
            font-family: 'Black Ops One', cursive;
            font-size: 5rem; 
            color: #f59e0b; 
            text-shadow: 4px 4px 8px rgba(0,0,0,0.9), 0 0 15px #f59e0b;
            letter-spacing: 0.1em;
            z-index: 10;
            line-height: 1; 
        }
         @media (max-width: 768px) {
            #header-logo-container h1 {
                font-size: 3.5rem; 
            }
        }
        @media (max-width: 480px) {
            #header-logo-container h1 {
                font-size: 2.5rem; 
            }
        }
        .review-quote {
            background-color: rgba(0,0,0,0.2);
            border-left: 4px solid #f59e0b;
            padding: 0.75rem;
            border-radius: 0 0.25rem 0.25rem 0;
            margin-bottom: 0.75rem;
        }
    </style>
</head>
<body class="text-gray-300">

<div id="app-container">
    <div class="container mx-auto px-4 pt-4 max-w-7xl flex flex-col h-full">

        <header class="text-center z-40 bg-transparent flex-shrink-0 pt-2">
            <div id="header-logo-container" class="h-40 md:h-48 w-full max-w-3xl mx-auto flex items-center justify-center">
                 <h1 class="drop-shadow-lg">NOMADS</h1>
            </div>
        </header>

        <div id="filter-status" class="text-center my-2 flex-shrink-0"></div>

        <main>
            <div id="menu-grid" class="gap-4"></div>
        </main>
        
        <button id="arrow-left" class="nav-arrow"><i class="fas fa-chevron-left"></i></button>
        <button id="arrow-right" class="nav-arrow"><i class="fas fa-chevron-right"></i></button>

    </div>
    
    <div class="sticky-filter-bar">
        <nav id="flavor-filter-nav" class="gap-2"></nav>
        <nav id="category-filter-nav" class="gap-2">
            <p class="font-rye text-sm text-gray-400 mr-4 flex-shrink-0">Bikers Welcome</p>
            <button id="download-menu-btn" class="filter-btn"><i class="fas fa-download mr-2 text-sky-400"></i>Download</button>
            <button id="suggest-drink-btn" class="filter-btn"><i class="fas fa-dice mr-2 text-red-400"></i>Roll Dice</button>
            <button id="show-story-btn" class="filter-btn"><i class="fas fa-scroll mr-2 text-amber-400"></i>The Legend</button>
            <button id="bar-stock-btn" class="filter-btn"><i class="fas fa-motorcycle mr-2 text-gray-400"></i>Bar Stock</button>
            <button data-category="all" class="filter-btn active-filter">All</button>
            <button data-category="signature" class="filter-btn"><i class="fas fa-skull mr-2 text-amber-400"></i>Signature</button>
            <button data-category="classics" class="filter-btn"><i class="fas fa-trophy mr-2 text-yellow-500"></i>Classics</button>
            <button data-category="whiskey" class="filter-btn"><i class="fas fa-whiskey-glass mr-2 text-orange-400"></i>Whiskey</button>
            <button data-category="vodka" class="filter-btn"><i class="fas fa-skull-crossbones mr-2 text-blue-300"></i>Vodka</button>
            <button data-category="gin" class="filter-btn"><i class="fas fa-leaf mr-2 text-green-400"></i>Gin</button>
            <button data-category="rum" class="filter-btn"><i class="fas fa-anchor mr-2 text-yellow-800"></i>Rum</button>
            <button data-category="dogs" class="filter-btn"><i class="fas fa-dog mr-2 text-stone-500"></i>Dogs</button>
            <button data-category="tequila" class="filter-btn"><i class="fas fa-hat-cowboy-side mr-2 text-yellow-600"></i>Tequila</button>
            <button data-category="schnapps" class="filter-btn"><i class="fas fa-mortar-pestle mr-2 text-purple-400"></i>Liqueurs</button>
        </nav>
    </div>
</div>

    
<div id="downloadable-menu-content" class="hidden"></div>

<div id="story-modal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto border border-gray-600">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-white">The Legend of Cowboy</h2>
                    <button class="close-modal-btn text-gray-400 hover:text-white text-3xl">&times;</button>
                </div>
                <div class="patch border-2 border-gray-600 p-6 rounded-lg mx-auto bg-gray-900/50">
                    <p class="text-gray-400 font-rye text-lg leading-relaxed">
                        They say a man named Cowboy, built like a mountain and quiet as a shadow, rode a Harley that sounded like thunder breaking over a graveyard. He’d show up just when a traveler was broken down, wrench on the engine, share a swig from his flask, and be gone before you could properly thank him. Some say he’s a ghost, others say he’s a nomad. We say he’s a damn good reason to keep a bottle of the good stuff ready.
                    </p>
                    <div class="border-t-2 border-dashed border-gray-600 my-6"></div>
                    <p class="text-gray-400 italic mb-4 text-center">Every rider has a story. What's yours?</p>
                    <div class="text-center">
                        <button id="create-drink-btn" class="text-white font-condensed uppercase tracking-wider font-bold py-3 px-6 rounded-md">✨ Create Your Own Legend</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="bar-stock-modal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] flex flex-col border border-gray-600">
            <div class="p-6 border-b border-gray-600"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold text-white">Bar Stock</h2><button class="close-modal-btn text-gray-400 hover:text-white text-3xl">&times;</button></div></div>
            <div id="bar-stock-content" class="p-6 text-gray-300 overflow-y-auto">
                <div><h2 class="text-xl text-green-400 mb-4">IN STOCK</h2><div id="in-stock-lists"></div></div>
                <div class="border-t-2 border-dashed border-gray-600 my-6"></div>
                <div><h2 class="text-xl text-red-400 mb-4">OUT OF STOCK</h2><div id="out-of-stock-lists"></div></div>
            </div>
        </div>
    </div>

    <div id="suggest-drink-modal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl w-full max-w-md text-center p-6 border border-gray-600">
            <div class="flex justify-between items-start mb-4"><h2 class="text-2xl font-bold text-white">Roll the Dice</h2><button class="close-modal-btn text-gray-400 hover:text-white text-3xl -mt-2">&times;</button></div>
            <div id="dice-roller-content"></div>
        </div>
    </div>

    <div id="create-drink-modal" class="modal fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] flex flex-col border border-gray-600">
            <div class="p-6 border-b border-gray-600"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold text-white">Create Your Own Legend</h2><button class="close-modal-btn text-gray-400 hover:text-white text-3xl">&times;</button></div></div>
            <div class="p-6 overflow-y-auto"><div id="gemini-drink-builder" class="mb-4"></div><div id="gemini-drink-output"></div></div>
        </div>
    </div>

    <script>
        // --- Cocktail Data Extracted from nomads-cocktail-menu.txt ---
        const cocktails = [
            { 
                name: "Caramel Apple Cruiser", strength: 2, category: ["signature", "schnapps"], flavorProfile: "Sweet, Tart & Spicy", 
                recipe: ["1 oz Butterscotch Schnapps", "1 oz Apple Pucker", "2 dashes Angostura Bitters", "Fill a tall glass with Ginger Ale"], 
                story: "This is for the guy on the candy-apple red cruiser that looks all show, no go. Then he takes it to the drag strip and leaves everyone in his dust. This drink is the same - looks innocent, but that spicy kick from the bitters will get you from zero to sixty before you know it.", 
                reviews: [{reviewer: "Dragstrip Dale", text: "Thought this was gonna be some candy drink. That spicy finish straightened me right out. Respect."}, {reviewer: "Greaser Gus", text: "Tastes like winning a bet you were supposed to lose. Deceptively good."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?apple,cocktail,caramel"
            },
            { 
                name: "Irish Russian", strength: 3, category: ["signature", "vodka", "schnapps"], flavorProfile: "Creamy & Rich Coffee", 
                recipe: ["2 oz Ketel One Vodka", "1 oz Kahlúa", "1 oz Baileys Irish Cream", "0.25 oz Simple Syrup", "Fill a tall glass with Club Soda"], 
                story: "We invented this for a biker from Boston who couldn't decide between his two heritages. He'd slam one down and say it was for 'the fightin' Irish and the cold-hearted Russian' in him. Said it was the only way to get them to agree on anything.", 
                reviews: [{reviewer: "Boston Mike", text: "This one's got the punch of a bare-knuckle boxer and the smoothness of a brand new highway. Perfect."}, {reviewer: "Hammerin' Helen", text: "It's like a shot of coffee and a shot of courage all in one. Gets you ready for the long haul."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?white,russian,cocktail"
            },
            { 
                name: "Long Island Iced Tea", strength: 5, category: ["classics", "vodka", "gin", "rum", "tequila", "schnapps"], flavorProfile: "Strong, Sweet & Sour", 
                recipe: ["0.5 oz Ketel One Vodka", "0.5 oz Tanqueray Gin", "0.5 oz Rum", "0.5 oz Jose Cuervo Silver Tequila", "0.5 oz Triple Sec", "1 oz Lemon Juice", "Fill a tall glass with Cola"], 
                story: "A guy once bet he could build an engine after drinking three of these. He didn't build an engine, but he did try to use a jukebox as a telephone and offered to trade his leather jacket for a half-eaten plate of nachos. This drink has a way of rewriting your priorities.", 
                reviews: [{reviewer: "Party Animal Pete", text: "This ain't a drink, it's a destination. One of these and you're feeling no pain."}, {reviewer: "Loose Lips Lucy", text: "Rides smooth, hits hard. Handle with care, or you'll end up trading your jacket for nachos too."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?long,island,iced,tea"
            },
            { 
                name: "Mad Dog", strength: 3, category: ["dogs", "vodka"], flavorProfile: "Tart Cranberry & Salty", 
                recipe: ["2 oz Ketel One Vodka", "Fill a tall glass with Cranberry Juice", "Salt Rim"], 
                story: "The Salty Dog got put down. This is what's left. It's meaner, redder, and bites back twice as hard. It’s for the days when your engine seizes and your patience has seized right along with it. This won't fix your bike, but it'll make you not care for a while.", 
                reviews: [{reviewer: "Grumpy Greg", text: "This one's got a bite, alright. Perfect for when you're feeling meaner than a cornered dog."}, {reviewer: "Biker Betty", text: "Washes the road dust right out of your throat. That salt rim is key."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?red,cocktail,cranberry"
            },
            { 
                name: "Moscow Mule", strength: 3, category: ["classics", "vodka"], flavorProfile: "Spicy Ginger & Lime", 
                recipe: ["2 oz Ketel One Vodka", "0.5 oz Lime Juice", "2 dashes Angostura Bitters", "Fill a tall glass with Ginger Ale"], 
                story: "A prospect once complained his bike was kicking back on him. The club president handed him one of these and said, 'Now you've got something that kicks back even harder. The bitters are an extra kick to the gut. One of 'em you'll learn to handle.' The kid learned to respect both.", 
                reviews: [{reviewer: "Kickstart Kenny", text: "That ginger kick is no joke. Wakes you up and gets you ready to ride."}, {reviewer: "Road Queen Ruby", text: "Refreshing as hell after a hot day on the asphalt. The only kickback I actually enjoy."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?moscow,mule,cocktail"
            },
            { 
                name: "Old Fashioned", strength: 4, category: ["classics", "whiskey"], flavorProfile: "Bold, Sweet & Bitter", 
                recipe: ["2 oz Maker's Mark", "0.5 oz Simple Syrup", "2 dashes Orange Bitters", "Cherry Garnish", "Top with Club Soda in a tall glass"], 
                story: "Old Man Hemlock only drinks this. He says, 'You don't need a thousand new parts to make a bike run true, and you don't need a thousand ingredients for a real drink.' It’s a testament to doing things the right way, no matter how long it takes.", 
                reviews: [{reviewer: "Old Man Hemlock", text: "They don't make 'em like they used to, but they still make this. Thank God. A true classic."}, {reviewer: "Wise Wanda", text: "This is what a real drink tastes like. No frills, all business. Just like my ride."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?old,fashioned,cocktail"
            },
            { 
                name: "Purple Hooter", strength: 2, category: ["signature", "vodka", "schnapps"], flavorProfile: "Sweet Raspberry & Floral", 
                recipe: ["1 oz Ketel One Vodka", "1 oz Raspberry Schnapps", "2 dashes Peychaud's Bitters", "Splash Lime Juice", "Fill a tall glass with Club Soda"], 
                story: "We only serve this after we've taken your keys. A group of riders came through once, had a few of these, and tried to pay with a live armadillo. They seemed to think it was a good idea at the time. The armadillo, and the sheriff, disagreed. The bitters are a reminder of that bitter regret.", 
                reviews: [{reviewer: "Whiskey Wanda", text: "Don't let the color fool you, this ain't no sissy drink. It'll have you telling stories for years."}, {reviewer: "Wild Bill", text: "Tastes like a good time that you might not remember tomorrow. Worth it."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?purple,cocktail,raspberry"
            },
            { 
                name: "Redheaded Trouble", strength: 2, category: ["signature", "schnapps"], flavorProfile: "Herbal & Peach", 
                recipe: ["1 oz Jägermeister", "1 oz Peach Schnapps", "Fill a tall glass with Orange Juice"], 
                story: "A redhead named Roxy used to ride a custom Triumph. She'd order three of these at a time: one for her, one for 'the road,' and one for 'the trouble she was about to cause.' Last we saw her, she was out-running a sheriff on a gravel road, laughing the whole damn way.", 
                reviews: [{reviewer: "Roxy 'The Rebel' Malone", text: "This drink is as fiery as its namesake. A perfect start to a wild night."}, {reviewer: "Road Dog Ricky", text: "Smooth, sweet, but with that herbal kick that sneaks up on you. Just like Roxy did."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?orange,cocktail"
            },
            { 
                name: "Storm Rider", strength: 3, category: ["rum"], flavorProfile: "Dark, Spiced & Strong", 
                recipe: ["2 oz Kraken Black Spiced Rum", "0.5 oz Lime Juice", "2 dashes Angostura Bitters", "Fill a tall glass with Ginger Ale"], 
                story: "This one's for the riders who don't pull over when the sky turns black. They lean into the wind and chase the storm. It’s dark, spicy, and has a kick that’ll rattle your bones. The Kraken rum adds the dark, mythical power of the deep, making this a taste of the storm itself.", 
                reviews: [{reviewer: "Thunderbolt Ted", text: "Dark and mean, just like the storm clouds it's named after. This'll put hair on your chest."}, {reviewer: "Rainmaker Rita", text: "Had one of these during a downpour. Felt like I could ride through anything. A true rider's drink."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?dark,rum,cocktail,storm"
            },
            { 
                name: "The Blacktop Sunset", strength: 3, category: ["signature", "whiskey"], flavorProfile: "Sweet & Spicy", 
                recipe: ["1 oz Jameson Irish Whiskey", "1 oz Southern Comfort", "0.5 oz Lime Juice", "2 dashes Angostura Bitters", "Fill a tall glass with Ginger Ale"], 
                story: "For that moment the sun dips below the horizon and paints the blacktop gold. It's the taste of a successful haul—smooth whiskey, the sweet memory of the day, and a spicy kick to remind you that tomorrow's another ride.", 
                reviews: [{reviewer: "Sunset Sally", text: "The perfect drink to end a long day's ride. Got the right amount of sweetness and a kick to keep you honest."}, {reviewer: "Asphalt Andy", text: "This tastes like freedom. Nothing better after putting the kickstand down."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?whiskey,cocktail,sunset"
            },
            { 
                name: "The Ghost Rider", strength: 4, category: ["signature", "tequila", "schnapps"], flavorProfile: "Herbal Anise & Sharp", 
                recipe: ["1 oz Pernod", "2 oz Jose Cuervo Silver Tequila", "Fill a tall glass with Club Soda", "Splash of Lime Juice"], 
                story: "Named for a mysterious rider on a flaming bike who only ever ordered one thing. It's sharp, herbal, and leaves an otherworldly impression, just like him.", 
                reviews: [{reviewer: "Shadow Sam", text: "This drink has a kick like a shovelhead on a cold morning. Not for the faint of heart."}, {reviewer: "Mystic Mae", text: "Tastes like lightning in a glass. Woke me up better than a straight pipe exhaust."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?green,cocktail,anise"
            },
            { 
                name: "The Junk Drawer", strength: 2, category: ["signature", "schnapps"], flavorProfile: "Sweet, Sweet & Sweet", 
                recipe: ["0.75 oz Raspberry Schnapps", "0.75 oz Butterscotch Schnapps", "0.75 oz Root Beer Schnapps", "Fill a tall glass with Club Soda"], 
                story: "You know that drawer in your garage with all the leftover parts? This is the liquid version. It sounds like it shouldn't work, but one sip and you'll realize it's a custom build that's more than the sum of its parts.", 
                reviews: [{reviewer: "Scrapheap Sid", text: "Sounds crazy, tastes amazing. It's a custom job in a glass."}, {reviewer: "Gearhead Gary", text: "Whoever thought this up is a mad genius. It just works."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?colorful,sweet,cocktail"
            },
            { 
                name: "The Phantom Shift", strength: 4, category: ["signature", "gin", "schnapps"], flavorProfile: "Herbal Anise & Crisp", 
                recipe: ["1 oz Pernod", "1 oz Tanqueray Gin", "0.5 oz Lime Juice", "Top with Tonic Water in a tall glass"], 
                story: "They say if you're on a lonely road at midnight, you can sometimes feel a bike shift gears right next to you, even when no one's there. This drink is for that feeling—anise-forward, sharp, and gone before you can place it. It's the taste of a legend riding alongside you.", 
                reviews: [{reviewer: "Road Ghost Riley", text: "Clean, sharp, and unforgettable. It's the taste of a mystery you don't want to solve."}, {reviewer: "Midnight Mark", text: "Had one of these and swore I could hear my old panhead whispering to me. Good stuff."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?gin,tonic,lime"
            },
            { 
                name: "The White Liner", strength: 3, category: ["signature", "gin", "schnapps"], flavorProfile: "Clean, Crisp & Floral", 
                recipe: ["1.5 oz Tanqueray Gin", "0.75 oz St-Germain", "0.75 oz Lemon Juice", "2 dashes Orange Bitters", "Top with Club Soda in a tall glass"], 
                story: "For the rider who stays true to their path. This drink is just as clean and direct—a crisp, floral shot of gin and elderflower that keeps you on the straight and narrow. No detours, no distractions, just the pure taste of the open road ahead.", 
                reviews: [{reviewer: "Straight-Edge Steve", text: "Smooth, straight, and no B.S. Just like the line on the highway. My new go-to."}, {reviewer: "Navigator Nancy", text: "A damn fine drink. Crisp as a fall morning ride through the mountains."}], 
                reviewerImageUrl: "https://source.unsplash.com/400x400/?clear,cocktail,gin"
            }
        ];

        // --- Core Application Logic ---

        const menuGrid = document.getElementById('menu-grid');
        const allModals = document.querySelectorAll('.modal');
        let activeFilters = { categories: new Set(), flavors: new Set() };
        
        const flavorIconMap={"Sweet":"fa-candy-cane","Tart":"fa-lemon","Spicy":"fa-pepper-hot","Herbal":"fa-seedling","Creamy":"fa-cloud","Rich":"fa-mug-hot","Coffee":"fa-coffee","Floral":"fa-fan","Anise":"fa-star-of-life","Sharp":"fa-bolt","Crisp":"fa-snowflake","Clean":"fa-water","Tropical":"fa-umbrella-beach","Fruity":"fa-apple-whole","Bold":"fa-fist-raised","Smooth":"fa-wave-square","Bitter":"fa-leaf","Dark":"fa-moon","Nutty":"fa-cookie-bite","Salty":"fa-icicles","Sour":"fa-lemon","Strong":"fa-dumbbell","Simple":"fa-circle","Deep":"fa-cube","Dry":"fa-wind","Prickly":"fa-cactus","Citrus":"fa-lemon","Almond":"fa-circle-dot","Spiced":"fa-pepper-hot","Lime":"fa-lemon","Ginger":"fa-mortar-pestle","Peach":"fa-apple-whole"};
        const categoryIconMap={"signature":{class:"fa-skull",color:"text-amber-400"},"classics":{class:"fa-trophy",color:"text-yellow-500"},"whiskey":{class:"fa-whiskey-glass",color:"text-orange-400"},"vodka":{class:"fa-skull-crossbones",color:"text-blue-300"},"gin":{class:"fa-leaf",color:"text-green-400"},"rum":{class:"fa-anchor",color:"text-yellow-800"},"dogs":{class:"fa-dog",color:"text-stone-500"},"tequila":{class:"fa-hat-cowboy-side",color:"text-yellow-600"},"schnapps":{class:"fa-mortar-pestle",color:"text-purple-400"}};

        function generateFlavorIcons(flavorProfile) {
            const flavors = flavorProfile.split(/&|,/).map(f => f.trim());
            return flavors.map(flavor => {
                const iconClass = flavorIconMap[flavor] || 'fa-question-circle';
                return `<i class="fas ${iconClass} fa-fw" title="${flavor}"></i>`;
            }).join('');
        }
        
        function generateCategoryIcons(categories) {
            return categories.map(cat => {
                const iconInfo = categoryIconMap[cat] || {class: 'fa-glass-martini', color: 'text-gray-400'};
                return `<i class="fas ${iconInfo.class} ${iconInfo.color}" title="${cat}"></i>`;
            }).join('');
        }

        function generateStrengthMeter(strength) {
            let meter = '';
            for (let i = 1; i <= 5; i++) {
                meter += `<i class="fas fa-skull ${i <= strength ? 'filled' : 'empty'}"></i>`;
            }
            return `<div class="strength-meter" title="Strength: ${strength}/5">${meter}</div>`;
        }

        function getIconForIngredient(ingredient) {
            const lowerIng = ingredient.toLowerCase();
            if (lowerIng.includes('vodka')) return 'fas fa-skull-crossbones';
            if (lowerIng.includes('whiskey') || lowerIng.includes('maker') || lowerIng.includes('jameson')) return 'fas fa-whiskey-glass';
            if (lowerIng.includes('gin')) return 'fas fa-leaf';
            if (lowerIng.includes('rum')) return 'fas fa-anchor';
            if (lowerIng.includes('tequila')) return 'fas fa-hat-cowboy-side';
            if (lowerIng.includes('schnapps') || lowerIng.includes('jäger') || lowerIng.includes('pernod') || lowerIng.includes('kahlúa') || lowerIng.includes('baileys') || lowerIng.includes('st-germain')) return 'fas fa-mortar-pestle';
            if (lowerIng.includes('bitters')) return 'fas fa-tint';
            if (lowerIng.includes('juice')) return 'fas fa-lemon';
            if (lowerIng.includes('soda') || lowerIng.includes('tonic') || lowerIng.includes('ale') || lowerIng.includes('cola')) return 'fas fa-faucet';
            return 'fas fa-circle-question';
        }

        function getColorForIngredient(ingredient) {
            const lowerIng = ingredient.toLowerCase();
            if (lowerIng.includes('vodka')) return 'text-blue-300';
            if (lowerIng.includes('whiskey') || lowerIng.includes('maker') || lowerIng.includes('jameson') || lowerIng.includes('comfort')) return 'text-orange-400';
            if (lowerIng.includes('gin')) return 'text-green-400';
            if (lowerIng.includes('rum')) return 'text-yellow-800';
            if (lowerIng.includes('tequila')) return 'text-yellow-600';
            if (lowerIng.includes('schnapps') || lowerIng.includes('pucker') || lowerIng.includes('jäger') || lowerIng.includes('pernod') || lowerIng.includes('kahlúa') || lowerIng.includes('baileys') || lowerIng.includes('st-germain')) return 'text-purple-400';
            if (lowerIng.includes('bitters')) return 'text-red-500';
            if (lowerIng.includes('orange')) return 'text-orange-500';
            if (lowerIng.includes('lime') || lowerIng.includes('lemon')) return 'text-yellow-300';
            if (lowerIng.includes('cranberry')) return 'text-red-400';
            return 'text-gray-400';
        }
        
        function displayMenuItems(items) {
            items.sort((a, b) => a.name.localeCompare(b.name));

            if (items.length === 0) {
                menuGrid.innerHTML = `<div class="text-center text-gray-400 italic w-full self-center">No drinks match the current filters.</div>`;
                return;
            }
            menuGrid.innerHTML = items.map(item => {
                const firstIngredient = item.recipe[0];
                const nameColorClass = getColorForIngredient(firstIngredient);
                const flavorIcons = generateFlavorIcons(item.flavorProfile);
                const strengthMeter = generateStrengthMeter(item.strength);
                const categoryIcons = generateCategoryIcons(item.category);
                const recipeHtml = item.recipe.map(ing => `<li class="flex items-center text-sm"><i class="${getIconForIngredient(ing)} ${getColorForIngredient(ing)} w-6 text-center mr-2"></i><span>${ing}</span></li>`).join('');
                
                const reviewsHtml = item.reviews.map(review => `
                    <div class="review-quote">
                        <p class="font-rye text-gray-300 italic mb-1 text-base leading-relaxed">"${review.text}"</p>
                        <p class="text-gray-500 text-sm font-condensed">- ${review.reviewer}</p>
                    </div>`).join('');

                return `
                    <div data-name="${item.name}" data-flavor="${item.flavorProfile}" data-category="${item.category.join(' ')}" class="drink-card">
                        <div class="drink-card-inner">
                            <div class="drink-card-front p-4 flex flex-col justify-between">
                                <div class="text-center">
                                    <h3 class="text-3xl ${nameColorClass} font-rye">${item.name}</h3>
                                    <div class="my-3 flex flex-col items-center gap-y-3 w-full">
                                        <div class="card-icon-group justify-center">${categoryIcons} ${flavorIcons}</div>
                                        ${strengthMeter}
                                    </div>
                                </div>
                                <div class="my-auto pt-3">
                                    <ul class="recipe-list text-gray-200 space-y-2">${recipeHtml}</ul>
                                </div>
                                <p class="text-xs text-gray-500 mt-3 pt-3 border-t border-dashed border-gray-700 w-full text-center">Flip for story & reviews</p>
                            </div>
                            <div class="drink-card-back">
                                <h3 class="text-3xl ${nameColorClass} font-rye text-center mb-4">${item.name}</h3>
                                <h4 class="text-amber-500 font-bold mb-2 text-sm uppercase tracking-wider">The Story:</h4>
                                <p class="font-rye text-gray-300 italic text-base leading-relaxed">"${item.story}"</p>
                                <h4 class="text-amber-500 font-bold mb-2 mt-4 text-sm uppercase tracking-wider">Reviews from the Road:</h4>
                                ${reviewsHtml}
                            </div>
                        </div>
                    </div>`;
            }).join('');
            setupCardGlowObserver();
        }

        function openModal(modal) { modal.classList.remove('hidden'); setTimeout(() => modal.classList.remove('opacity-0'), 10); }
        function closeModal(modal) { modal.classList.add('opacity-0'); setTimeout(() => modal.classList.add('hidden'), 300); }
        
        function applyAllFilters() {
            let filtered = [...cocktails];
            
            if (activeFilters.categories.size > 0) {
                filtered = filtered.filter(item => 
                    [...activeFilters.categories].every(cat => item.category.includes(cat))
                );
            }

            if (activeFilters.flavors.size > 0) {
                 filtered = filtered.filter(item => {
                    const itemFlavors = new Set(item.flavorProfile.split(/&|,/).map(f => f.trim()));
                    return [...activeFilters.flavors].every(filterFlavor => itemFlavors.has(filterFlavor));
                });
            }

            displayMenuItems(filtered);
            updateFilterStatus();
        }

        function updateFilterStatus() {
            const filterStatus = document.getElementById('filter-status');
            let filtersApplied = [];

            if(activeFilters.categories.size > 0) {
                const categories = [...activeFilters.categories].map(c => `<strong>${c}</strong>`).join(', ');
                filtersApplied.push(`Categories: ${categories}`);
            }

            if(activeFilters.flavors.size > 0) {
                const flavors = [...activeFilters.flavors].map(f => `<strong>${f}</strong>`).join(', ');
                filtersApplied.push(`Flavors: ${flavors}`);
            }

            if(filtersApplied.length > 0){
                filterStatus.innerHTML = `<div class="inline-block bg-gray-900/50 border border-amber-600 rounded-lg px-3 py-1 text-xs">
                    Filtering by: ${filtersApplied.join(' & ')}
                </div>`;
            } else {
                filterStatus.innerHTML = '';
            }
        }
        
        let cardObserver;
        function setupCardGlowObserver() {
            if (cardObserver) cardObserver.disconnect();
            
            const options = { root: menuGrid, rootMargin: '0px', threshold: 0.6 };
            
            cardObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Set the active card for glow effect
                        document.querySelectorAll('.is-active-card').forEach(card => card.classList.remove('is-active-card'));
                        entry.target.classList.add('is-active-card');
                    }
                });
            }, options);

            document.querySelectorAll('#menu-grid .drink-card').forEach(card => cardObserver.observe(card));
        }

        // --- Event Listeners & Initial Load ---
        document.addEventListener('DOMContentLoaded', () => {
            displayMenuItems(cocktails);
            prepareDownloadableMenu(); 
            const allFlavors = new Set(cocktails.flatMap(c => c.flavorProfile.split(/&|,/).map(f => f.trim())));
            const flavorFilterNav = document.getElementById('flavor-filter-nav');
            
            // Generate Flavor Filter Buttons
            [...allFlavors].sort().forEach(flavor => {
                const btn = document.createElement('button');
                btn.className = 'flavor-filter-btn';
                btn.dataset.flavor = flavor;
                const iconClass = flavorIconMap[flavor] || 'fa-question-circle';
                btn.innerHTML = `<i class="fas ${iconClass} mr-2"></i>${flavor}`;
                flavorFilterNav.appendChild(btn);
            });
        });

        document.getElementById('category-filter-nav').addEventListener('click', (e) => {
            const target = e.target.closest('.filter-btn');
            if (!target) return;
            
            const category = target.dataset.category;
            if (!category) return;
            
            if (category === 'all') {
                activeFilters.categories.clear();
                document.querySelectorAll('#category-filter-nav .filter-btn').forEach(b => b.classList.remove('active-filter'));
                target.classList.add('active-filter');
            } else {
                document.querySelector('[data-category="all"]').classList.remove('active-filter');
                target.classList.toggle('active-filter');
                if (activeFilters.categories.has(category)) {
                    activeFilters.categories.delete(category);
                } else {
                    activeFilters.categories.add(category);
                }
            }
            if (activeFilters.categories.size === 0 && category !== 'all') {
                 document.querySelector('[data-category="all"]').classList.add('active-filter');
            }
            applyAllFilters();
        });

        document.getElementById('flavor-filter-nav').addEventListener('click', e => {
            const target = e.target.closest('.flavor-filter-btn');
            if (!target) return;

            const flavor = target.dataset.flavor;
            target.classList.toggle('active-filter');
            if (activeFilters.flavors.has(flavor)) {
                activeFilters.flavors.delete(flavor);
            } else {
                activeFilters.flavors.add(flavor);
            }
            applyAllFilters();
        });

        menuGrid.addEventListener('click', (e) => {
             const card = e.target.closest('.drink-card');
             if (card) {
                card.classList.toggle('is-flipped');
            }
        });

        document.getElementById('arrow-right').addEventListener('click', () => {
            const cardWidth = menuGrid.querySelector('.drink-card').offsetWidth;
            menuGrid.scrollBy({ left: cardWidth + 16, behavior: 'smooth' });
        });

        document.getElementById('arrow-left').addEventListener('click', () => {
            const cardWidth = menuGrid.querySelector('.drink-card').offsetWidth;
            menuGrid.scrollBy({ left: -(cardWidth + 16), behavior: 'smooth' });
        });

        // --- Download Menu Logic ---
        function prepareDownloadableMenu() {
            const contentDiv = document.getElementById('downloadable-menu-content');
            let menuText = "NOMADS 11 - Cocktail Menu\n=============================\n\n";

            cocktails.forEach(cocktail => {
                menuText += `${cocktail.name.toUpperCase()}\n`;
                menuText += `-----------------------------\n`;
                menuText += `Recipe:\n`;
                cocktail.recipe.forEach(step => {
                    menuText += `- ${step}\n`;
                });
                menuText += `\nStory:\n"${cocktail.story}"\n`;
                menuText += `=============================\n\n`;
            });
            contentDiv.innerText = menuText;
        }

        document.getElementById('download-menu-btn').addEventListener('click', () => {
            const menuContent = document.getElementById('downloadable-menu-content').innerText;
            const blob = new Blob([menuContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'nomads-cocktail-menu.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });


        // --- Modal Logic ---
        document.getElementById('show-story-btn').addEventListener('click', () => openModal(document.getElementById('story-modal')));
        document.getElementById('bar-stock-btn').addEventListener('click', () => openModal(document.getElementById('bar-stock-modal')));
        document.getElementById('suggest-drink-btn').addEventListener('click', () => openModal(document.getElementById('suggest-drink-modal')));
        document.getElementById('create-drink-btn').addEventListener('click', () => {
            closeModal(document.getElementById('story-modal'));
            openModal(document.getElementById('create-drink-modal'));
        });
        
        allModals.forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal || e.target.closest('.close-modal-btn')) {
                    closeModal(modal);
                }
            });
        });
    </script>
</body>
</html>
